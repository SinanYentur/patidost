#!/bin/sh
# ANAYASAL KAPI: PRE-PUSH
# Bu script, her push Ã¶ncesi Ã§alÄ±ÅŸÄ±r ve en geniÅŸ kapsamlÄ± mimari denetimi tetikler.

echo "[DENETÃ‡Ä°] Pre-push denetimi baÅŸlatÄ±ldÄ±..."

# Tam bir build ve test dÃ¶ngÃ¼sÃ¼ Ã§alÄ±ÅŸtÄ±r.
./scripts/anayasa_build_check.sh --mode full_check

if [ $? -ne 0 ]; then
    echo "[DENETÃ‡Ä°] ğŸš¨ KRÄ°TÄ°K ANAYASAL Ä°HLAL: Tam sistem denetimi baÅŸarÄ±sÄ±z. PUSH ENGELLENDÄ°." >&2
    exit 1
fi

echo "[DENETÃ‡Ä°] Tam sistem denetimi baÅŸarÄ±lÄ±. Push iÅŸlemine izin verildi."
exit 0
